==============
质量检查
==============

.. _quality/quality_management/quality-checks:
.. |MO| replace:: :abbr:`MO (生产订单)`
.. |QCP| replace:: :abbr:`QCP (质量控制点)`

质量检查是由员工进行的人工检查，旨在确保产品质量。在 Odoo 中，可以为单个产品或同一库存操作或生产订单中的多个产品进行质量检查。

使用质量控制点 (QCP)，可以定期自动创建质量检查。当质量检查由 |QCP| 创建时，它们会显示在生产订单或库存订单中，处理订单的员工会被提示完成检查。有关如何创建和配置 |QCP| 的完整说明，请参阅 :ref:`质量控制点 <quality/quality_management/quality-control-points>` 的文档。

虽然质量检查通常由 |QCP| 自动创建，但也可以手动创建单个质量检查。当员工想安排仅发生一次的质量检查，或在未提示的情况下记录他们进行的质量检查时，手动创建检查非常有用。

手动创建质量检查
====================

要手动创建单个质量检查，导航到 :menuselection:`质量 --> 质量控制 --> 质量检查`，然后点击 :guilabel:`新建`。在质量检查表单中，首先从 :guilabel:`控制方式` 下拉菜单中选择一个选项：

- :guilabel:`操作` 请求对整个操作进行检查（例如，发货单）及其所有产品。
- :guilabel:`产品` 请求对操作中的每个产品单位进行检查（例如，发货单中的每个产品单位）。
- :guilabel:`数量` 请求对操作中的每个产品数量进行检查（例如，发货单中的五个产品单位进行一次检查）。选择 :guilabel:`数量` 还会使表单出现一个 :guilabel:`批次/序列号` 下拉字段，从中可以选择应进行质量检查的特定批次或序列号。

接下来，从 :guilabel:`拣货` 下拉菜单中选择一个库存操作，或从 :guilabel:`生产订单` 下拉菜单中选择一个生产订单。这是必要的，因为 Odoo 需要知道质量检查是针对哪个操作进行的。

如果质量检查应分配给特定的 |QCP|，请从 :guilabel:`控制点` 下拉菜单中选择它。如果质量检查是手动创建的，但仍应被识别为属于特定 |QCP|，此功能非常有用。

从 :guilabel:`类型` 下拉字段中选择质量检查类型：

- :guilabel:`说明` 提供有关如何进行质量检查的具体说明。
- :guilabel:`拍照` 要求在完成检查之前附加一张图片。
- :guilabel:`通过-失败` 用于检查产品是否符合通过检查的某些标准。
- 选择 :guilabel:`测量` 会显示一个 :guilabel:`测量` 输入字段，必须在完成检查前输入测量值。
- 选择 :guilabel:`工作表` 会显示一个 :guilabel:`质量模板` 下拉字段。使用它来选择必须填写的质量工作表以完成检查。

在 :guilabel:`团队` 字段中，选择负责质量检查的质量团队。在 :guilabel:`公司` 字段中，选择拥有所检查产品的公司。

在表单底部的 :guilabel:`说明` 标签页中，在 :guilabel:`说明` 文本框中输入任何相关的说明（例如“附上一张产品的照片”）。在 :guilabel:`备注` 文本框中，输入有关质量检查的任何相关信息（谁创建了它，为什么创建等）。

最后，如果检查正在立即处理，请点击屏幕左上角的 :guilabel:`通过` 按钮（如果检查通过），或点击 :guilabel:`失败` 按钮（如果检查未通过）。

.. image:: quality_checks/quality-check-form.png
   :align: center
   :alt: 为通过-失败检查填写的质量检查表单。

处理质量检查
===============

可以直接在质量检查页面上处理质量检查，或从需要检查的生产或库存订单中处理检查。或者，如果为特定的工单操作创建了质量检查，则在 *车间* 模块中处理检查。

.. note::
   不能手动创建分配给特定工单操作的单个质量检查。工单操作的质量检查只能由 |QCP| 创建。有关如何配置将为特定工单操作创建质量检查的 |QCP| 的信息，请参阅 :ref:`质量控制点 <quality/quality_management/quality-control-points>` 文档。

质量检查页面
----------------

要从检查页面处理质量检查，首先导航到 :menuselection:`质量 --> 质量控制 --> 质量检查`，然后选择要处理的检查。按照页面底部 :guilabel:`说明` 字段中的说明完成检查。

如果质量检查通过，请点击页面顶部的 :guilabel:`通过` 按钮。如果检查未通过，请点击 :guilabel:`失败` 按钮。

订单上的质量检查
-------------------

要在订单上处理质量检查，选择一个需要检查的生产或库存订单（收货、发货、退货等）。可以通过导航到 :menuselection:`生产 --> 操作 --> 生产订单` 并点击某个订单来选择生产订单。可以通过导航到 :menuselection:`库存`，点击操作卡上的 :guilabel:`# 待处理` 按钮，并选择一个订单来选择库存订单。

在所选的库存或生产订单页面顶部，会出现一个紫色的 :guilabel:`质量检查` 按钮。点击该按钮以打开 :guilabel:`质量检查` 弹出窗口，显示该订单所需的所有质量检查。

按照 :guilabel:`质量检查` 弹出窗口中显示的说明进行操作。如果正在处理 *通过-失败* 检查，请点击弹出窗口底部的 :guilabel:`通过` 或 :guilabel:`失败` 按钮以完成检查。对于所有其他质量检查类型，会显示一个 :guilabel:`验证` 按钮。点击它以完成检查。

.. image:: quality_checks/quality-check-pop-up.png
   :align: center
   :alt: 在生产订单上的“质量检查”弹出窗口。

工单上的质量检查
-------------------

要处理工单的质量检查，首先导航到 :menuselection:`生产 --> 操作 --> 生产订单`。选择一个包含需要质量检查的工单的 |MO|。

在 |MO| 上，选择 :guilabel:`工单` 标签，然后点击待处理工单行上的 :guilabel:`打开工单 (外部链接图标)` 按钮。在随后的 :guilabel:`工单` 弹出窗口中，点击 :guilabel:`打开车间` 按钮以打开 *车间* 模块。

.. seealso::
   有关车间模块的完整指南，请参阅 :doc:`车间概览 <../../manufacturing/shop_floor/shop_floor_overview>` 文档。

从特定工单访问时，*车间* 模块会打开该工单配置为处理的工作中心页面，并仅显示该工单的卡片，不显示其他卡片。

处理工单的步骤，直到到达质量检查步骤。点击该步骤以打开弹出窗口，详细说明如何完成检查。按照说明操作后，点击 :guilabel:`验证` 以完成检查。或者，如果正在处理 *通过-失败* 检查，请点击 :guilabel:`通过` 或 :guilabel:`失败` 按钮。

也可以通过点击步骤右侧的复选框来完成质量检查。这样会自动将检查标记为 *通过*。

.. note::
   处理质量检查的具体步骤取决于正在进行的检查类型。有关处理每种类型的质量检查的信息，请参阅相关文档：

   - :doc:`../quality_check_types/instructions_check`
   - :doc:`../quality_check_types/pass_fail_check`
   - :doc:`../quality_check_types/measure_check`
   - :doc:`../quality_check_types/picture_check`
