=====================
测量质量检查
=====================

.. |MO| replace:: :abbr:`MO (生产订单)`
.. |QCP| replace:: :abbr:`QCP (质量控制点)`
.. |QCPs| replace:: :abbr:`QCPs (质量控制点)`

在 Odoo 的 *质量* 模块中，*测量* 检查是创建新质量检查或质量控制点 (QCP) 时可以选择的质量检查类型之一。*测量* 检查会提示用户测量产品的某一方面，并在 Odoo 中记录测量值。为了使质量检查通过，记录的测量值必须在 *标准值* 的 *公差* 范围内。

创建测量质量检查
===================

有两种创建 *测量* 质量检查的方式。一种是手动创建单个检查，另一种是配置一个 |QCP|，它会在预定的间隔时间自动创建检查。

本文件仅详细说明与 *测量* 质量检查和 |QCP| 相关的独特配置选项。有关创建单个检查或 |QCP| 时所有可用配置选项的完整概述，请参阅 :ref:`质量检查 <quality/quality_management/quality-checks>` 和 :ref:`质量控制点 <quality/quality_management/quality-control-points>` 的文档。

质量检查
---------

要创建单个 *测量* 质量检查，导航到 :menuselection:`质量 --> 质量控制 --> 质量检查`，并点击 :guilabel:`新建`。按如下步骤填写新的质量检查表单：

- 在 :guilabel:`类型` 下拉字段中，选择 :guilabel:`测量` 质量检查类型。
- 在 :guilabel:`团队` 下拉字段中，选择负责管理检查的质量团队。
- 在 :guilabel:`说明` 标签页的 :guilabel:`说明` 文本字段中，输入如何进行测量的说明。

.. image:: measure_check/measure-check-form-1.png
   :align: center
   :alt: 配置为测量质量检查的质量检查表单。

质量控制点 (QCP)
-----------------

要创建一个自动生成 *测量* 质量检查的 |QCP|，导航到 :menuselection:`质量 --> 质量控制 --> 控制点`，并点击 :guilabel:`新建`。按如下步骤填写新的 |QCP| 表单：

- 在 :guilabel:`类型` 下拉字段中，选择 :guilabel:`测量` 质量检查类型。这样会显示两个新字段：:guilabel:`标准值` 和 :guilabel:`公差`。

  - 使用 :guilabel:`标准值` 字段的第一个文本输入框记录产品应符合的理想测量值。使用第二个文本输入框指定应使用的计量单位。
  - :guilabel:`公差` 字段有两个子字段：:guilabel:`从` 和 :guilabel:`至`。使用 :guilabel:`从` 字段指定最小可接受测量值，使用 :guilabel:`至` 字段指定最大可接受测量值。

- 在 :guilabel:`团队` 下拉字段中，选择负责管理由 |QCP| 创建的检查的质量团队。
- 在 :guilabel:`说明` 文本字段中，输入如何进行测量的说明。

.. image:: measure_check/measure-check-qcp-form.png
   :align: center
   :alt: 配置为创建测量质量检查的 QCP 表单。

处理测量质量检查
=================

创建后，可以通过多种方式处理 *测量* 质量检查。如果质量检查分配给特定的库存、生产或工单，则可以在相应订单上处理检查。或者，也可以从检查的页面处理检查。

从检查页面处理
-----------------

要从检查页面处理 *测量* 质量检查，首先导航到 :menuselection:`质量 --> 质量控制 --> 质量检查`，并选择一个质量检查。按照 :guilabel:`说明` 进行测量。

测量完成后，将值记录在质量检查表单中的 :guilabel:`测量` 字段中。要手动通过或失败检查，点击检查左上角的 :guilabel:`通过` 或 :guilabel:`失败`。

或者，如果质量检查分配给一个已指定 *标准值* 和 *公差* 的 |QCP|，请点击检查左上角的 :guilabel:`测量`。这样会自动将检查标记为 *通过*，如果记录的值在指定的 *公差* 范围内；如果记录的值超出范围，则标记为 *失败*。

在订单上处理
--------------

要在订单上处理 *测量* 质量检查，选择一个需要检查的生产订单或库存订单（收货、发货、退货等）。可以通过导航到 :menuselection:`生产 --> 操作 --> 生产订单` 并点击某个订单来选择生产订单。可以通过导航到 :menuselection:`库存`，点击操作卡上的 :guilabel:`# 待处理` 按钮，并选择一个订单来选择库存订单。

在所选的生产或库存订单页面顶部，会出现一个紫色的 :guilabel:`质量检查` 按钮。点击该按钮以打开 :guilabel:`质量检查` 弹出窗口，显示该订单所需的所有质量检查。

要处理 *测量* 质量检查，请按照指示对产品进行测量，然后在弹出窗口的 :guilabel:`测量` 字段中输入测量值。最后，点击 :guilabel:`验证` 以登记记录的值。

.. image:: measure_check/measure-check-pop-up.png
   :align: center
   :alt: 在生产或库存订单上的测量质量检查弹出窗口。

如果输入的值在 |QCP| 的 :guilabel:`公差` 部分指定的范围内，则质量检查通过，弹出窗口关闭。然后可以像往常一样处理生产或库存订单的其余部分。

然而，如果输入的值超出了指定范围，则会出现一个标题为 :guilabel:`质量检查失败` 的新弹出窗口。弹出窗口的正文显示一条警告信息，内容为：:guilabel:`您测量了 # 单位，应该在 # 单位和 # 单位之间`，以及 |QCP| 的 :guilabel:`失败消息` 标签页中输入的说明。在弹出窗口的底部，会出现两个按钮：:guilabel:`纠正测量` 和 :guilabel:`确认测量`。

.. image:: measure_check/measure-check-failed.png
   :align: center
   :alt: "质量检查失败" 弹出窗口。

如果输入的测量值不正确并且需要更改，请选择 :guilabel:`纠正测量`。这样会重新打开 :guilabel:`质量检查` 弹出窗口。将更正后的测量值输入到 :guilabel:`测量` 字段中，然后点击 :guilabel:`验证` 以完成检查。

如果输入的测量值正确，请点击 :guilabel:`确认测量`，质量检查失败。按照 :guilabel:`质量检查失败` 弹出窗口中列出的说明操作。

如果需要创建质量警报，请点击质量检查失败后出现在生产或库存订单顶部的 :guilabel:`质量警报` 按钮。点击 :guilabel:`质量警报` 会在新页面上打开质量警报表单。

.. seealso::
   有关如何填写质量警报表单的完整指南，请查看 :doc:`质量警报 <../quality_management/quality_alerts>` 文档。

在工单上处理
--------------

在配置由生产订单触发的 |QCP| 时，还可以在 |QCP| 表单的 :guilabel:`工单操作` 字段中指定特定工单。如果指定了工单，则为该特定工单创建 *测量* 质量检查，而不是针对整个生产订单。

配置为工单的 *测量* 质量检查 **必须** 在 *车间* 模块中完成。为此，首先导航到 :menuselection:`生产 --> 操作 --> 生产订单`。选择一个包含需要进行 *测量* 质量检查的工单的 |MO|。

在 |MO| 上，选择 :guilabel:`工单` 标签，然后点击待处理工单行上的 :guilabel:`打开工单 (带有箭头的方块)` 按钮。在随后的 :guilabel:`工单` 弹出窗口中，点击 :guilabel:`打开车间` 按钮以打开 *车间* 模块。

从特定工单访问时，*车间* 模块会打开该工单配置为处理的工作中心页面，并仅显示该工单的卡片，不显示其他卡片。

处理工单的步骤，直到到达 *测量* 质量检查步骤。点击该步骤以打开弹出窗口，其中包含如何进行测量的说明。测量完成后，将值输入到弹出窗口的 :guilabel:`测量` 字段中，然后点击 :guilabel:`验证`。

.. image:: measure_check/measure-check-shop-floor.png
   :align: center
   :alt: 在车间模块中的测量检查。

如果输入的测量值在 |QCP| 的 :guilabel:`公差` 部分指定的范围内，则质量检查通过，弹出窗口移动到工单的下一步。然而，如果输入的测量值超出了指定范围，则会出现一个标题为 :guilabel:`质量检查失败` 的新弹出窗口。

:guilabel:`质量检查失败` 弹出窗口的正文显示一条信息，内容为：:guilabel:`您测量了 # 单位，应该在 # 单位和 # 单位之间`，以及 |QCP| 的 :guilabel:`失败消息` 标签页中输入的说明。在弹出窗口底部，会出现两个按钮：:guilabel:`纠正测量` 和 :guilabel:`确认测量`。

.. image:: measure_check/shop-floor-measure-check-failed.png
   :align: center
   :alt: 车间模块中测量检查的质量检查失败弹出窗口。

如果输入的测量值不正确并且需要更改，请选择 :guilabel:`纠正测量`。这样会打开一个新的弹出窗口，标题为 :guilabel:`质量检查`。将更正后的测量值输入到 :guilabel:`测量` 字段中，然后点击 :guilabel:`验证` 以完成检查并关闭弹出窗口。

如果输入的测量值正确，请点击 :guilabel:`确认测量`，质量检查失败。按照 :guilabel:`质量检查失败` 弹出窗口中列出的说明操作。

如果需要创建质量警报，请点击右上角的 :guilabel:`X (关闭)` 按钮退出弹出窗口。

然后，点击工单卡片右下角的 :guilabel:`⋮ (三个垂直点)` 按钮以打开 :guilabel:`您想做什么?` 弹出窗口。

在 :guilabel:`您想做什么?` 弹出窗口中，选择 :guilabel:`创建质量警报` 按钮。这样会在新的 :guilabel:`质量警报` 弹出窗口中打开一个空白的质量警报表单。

.. seealso::
   有关如何填写质量警报表单的完整指南，请查看 :doc:`质量警报 <../quality_management/quality_alerts>` 文档。
