========================
采购分析报告
========================

.. |PO| replace:: :abbr:`PO (采购订单)`
.. |POs| replace:: :abbr:`POs (采购订单)`

*采购分析* 报告提供了有关使用 Odoo 的 **采购** 应用购买的产品的统计数据。这些数据有助于深入了解与采购订单 (PO) 相关的关键指标，包括订购和收到的产品数量、收到采购产品所需的时间等。

要打开采购分析报告，请导航到 :menuselection:`采购应用 --> 报告 --> 采购`。

.. important::
   :guilabel:`采购分析` 报告是 Odoo 应用套件中众多可用报告之一。本文件仅涵盖 :guilabel:`采购分析` 报告中特定的度量标准以及一些用例示例。

   有关 Odoo 大多数报告中可用的基本功能的完整概述，请参阅 :doc:`报告基础 <../../../essentials/reporting>` 文档。

度量标准
========

*度量标准* 是指可以在 :guilabel:`采购分析` 报告中显示的各种数据集，每个数据集代表与 |POs| 或产品相关的关键统计数据。要选择度量标准，请点击 :guilabel:`度量标准` :icon:`fa-caret-down` 按钮，并从下拉菜单中选择一个选项：

- :guilabel:`行数`：所有 |POs| 的订单行数。
- :guilabel:`平均成本`：|POs| 的平均成本。
- :guilabel:`确认天数`：确认 |PO| 所需的天数。
- :guilabel:`接收天数`：收到 |PO| 中产品所需的天数。
- :guilabel:`总重量`：采购产品的总重量。
- :guilabel:`已开票数量`：供应商已开票的产品数量。
- :guilabel:`订购数量`：订购的产品数量。
- :guilabel:`接收数量`：收到的订购产品数量。
- :guilabel:`待开票数量`：供应商尚未开票的订购产品数量。
- :guilabel:`总计`：包括税金在内的总支出金额。
- :guilabel:`不含税总计`：不包括税金的总支出金额。此度量标准为默认选择。
- :guilabel:`体积`：按体积测量的订购产品的总体积。
- :guilabel:`数量`：|POs| 的总数量。

.. tip::
   当启用 :icon:`fa-area-chart` :guilabel:`(图表视图)` 选项时，一次只能选择一个度量标准。然而，使用 :icon:`oi-view-pivot` :guilabel:`(数据透视表)` 时，可以选择多个度量标准，并选择不同的分组标准（在 x 轴和 y 轴上）。

.. _purchase/purchase-analysis-example:

用例：确定每个供应商的接收天数
===================================

*采购分析* 报告的一个可能用例是确定每个供应商交付购买商品所需的时间。这使得公司可以更好地决定向哪些供应商购买。

.. example::
   一家本地自行车商店 *Bike Haus* 销售高质量的独轮车、自行车、三轮车以及所有骑行和维护所需的配件。他们从几家不同的供应商采购库存，然后通过店面将这些产品销售给客户。

   最近，Bike Haus 决定让他们的采购经理大卫调查他们的每个供应商在 2024 年交付所购买商品所需的时间。

   大卫首先导航到 :menuselection:`采购应用 --> 报告 --> 采购`，并在报告顶部选择 :icon:`fa-bar-chart` (柱状图) 图表类型。

   接下来，他点击搜索栏右侧的 :icon:`fa-caret-down` :guilabel:`(切换)` 按钮以打开其下拉菜单。在 :guilabel:`确认日期` 筛选器部分，他确保只启用了 :guilabel:`2024` 筛选器。然后，他在 :guilabel:`分组依据` 部分选择 :guilabel:`供应商` 选项，并点击菜单外关闭下拉菜单。

   最后，大卫点击 :guilabel:`度量标准` :icon:`fa-caret-down` 下拉菜单，并选择 :guilabel:`接收天数` 选项。

   启用所有这些选项后，:guilabel:`采购分析` 报告显示一个柱状图，每个供应商对应一根柱子，代表从该供应商收到采购产品的平均天数。

   使用这些数据，大卫可以看到，从 Bike Friends 采购的产品平均需要超过 4.5 天交付。这是其他供应商所需时间的四倍多。

   基于这些发现，大卫决定减少从 Bike Friends 采购的产品数量。

   .. image:: analyze/dtr.png
      :align: center
      :alt: 采购报告，显示从供应商接收产品的平均天数。

用例：比较两个时间段的供应商PO
===================================

*采购分析* 报告的另一个用途是比较特定供应商在两个不同时间段的采购订单 (PO) 关键统计数据。通过这样做，可以轻松了解从该供应商的采购是增加了还是减少了。

.. example::
   根据 :ref:`前面的示例 <purchase/purchase-analysis-example>`，自从 Bike Haus 决定减少从其供应商 Bike Friends 采购的产品数量以来，已经过去了一个月。Bike Haus 的采购经理大卫希望了解这一决定对他们在 Bike Friends 产品上的支出影响。

   大卫首先导航到 :menuselection:`采购应用 --> 报告 --> 采购`。然后，他选择屏幕顶部的 :icon:`oi-view-pivot` :guilabel:`(数据透视表)` 选项。

   在搜索栏中，他输入 `Bike Friends` 并点击 :guilabel:`回车`，这样报告只显示从 Bike Friends 的采购数据。

   然后，大卫点击搜索栏右侧的 :icon:`fa-caret-down` :guilabel:`(切换)` 按钮以打开其下拉菜单。在 :guilabel:`确认日期` 字段中，他保持启用了 :guilabel:`2024年6月` 筛选器，并选择 :guilabel:`确认日期：上一期间` 选项。然后，点击菜单外关闭下拉菜单。

   接下来，大卫点击 :guilabel:`度量标准` :icon:`fa-caret-down` 下拉菜单。他保留 :guilabel:`总计` 和 :guilabel:`不含税总计` 数据集，并禁用 :guilabel:`订单` 和 :guilabel:`数量` 数据集。

   最后，大卫点击数据透视表行上方的 :guilabel:`fa-minus-square-o` :guilabel:`总计` 按钮，并选择 :guilabel:`产品` 选项。

   配置好所有这些选项后，:guilabel:`采购分析` 报告显示了一个数据透视表，比较了当月 6 月与上个月 5 月的采购数据。

   数据透视表分为两列：一列显示不含税总支出，另一列显示含税总支出。这些列进一步细分为三列：5 月的支出金额、6 月的支出金额以及两个月之间的变化，以百分比表示。

   在数据透视表的左侧，显示了 6 月期间从 Bike Friends 采购的每种产品的行。通过此报告，大卫能够看到，与上个月相比，Bike Haus 在从 Bike Friends 采购的产品上花费的金额少了很多。

   .. image:: analyze/comparison.png
      :align: center
      :alt: 采购报告，比较在供应商处的支出金额。
