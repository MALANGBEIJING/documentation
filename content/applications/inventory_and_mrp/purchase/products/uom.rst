=========================
购买单位
=========================

当你购买某种产品时，供应商可能使用与销售时不同的计量单位。这可能会导致销售和采购人员之间的混淆，并且每次手动转换计量单位也非常耗时。通过Odoo，你可以一次性配置产品，让Odoo自动处理转换。

考虑以下示例：

#. 你从美国供应商处购买橙汁，他们使用**加仑**作为单位。然而，你的客户是欧洲的，他们使用**升**。
#. 你从供应商那里以**卷**的形式购买窗帘，然后以**平方米**为单位，将窗帘的部分出售给你的客户。

启用计量单位
================

打开你的销售应用，进入 :menuselection:`配置 --> 设置`。在产品目录下，启用*计量单位*选项。

.. image:: uom/uom-enable-option.png
   :align: center
   :alt: 在Odoo销售应用中启用计量单位选项

指定销售和采购的计量单位
===========================

标准计量单位
-------------

数据库中默认提供了各种计量单位。每个计量单位都属于五个预配置的计量单位类别之一：*长度 / 距离*、*单位*、*体积*、*重量* 和 *工作时间*。

.. tip::
   你可以创建新的计量单位和计量单位类别（请参见下一部分）。

要为销售和采购指定不同的计量单位，打开采购应用，进入 :menuselection:`产品 --> 产品`。创建一个产品或选择一个现有产品。在产品的*常规信息*选项卡下，首先选择用于销售的*计量单位*（以及用于其他应用，如库存）。然后，选择用于采购的*采购计量单位*。

回到第一个示例，如果你从供应商处以**加仑**采购橙汁并以**升**出售给客户，首先选择*L*（升）作为*计量单位*，并选择*gal (US)*（加仑）作为*采购计量单位*，然后点击*保存*。

.. image:: uom/uom-product-configuration.png
   :align: center
   :alt: 在Odoo中配置产品的计量单位

创建新的计量单位和计量单位类别
---------------------------------

有时你需要创建自己的计量单位和类别，可能是因为该单位在Odoo中未预配置，或这些单位之间没有关联（例如千克和厘米）。

如果你以**卷**的形式从供应商处购买窗帘，并使用**平方米**出售窗帘的部分，那么你需要创建一个新的*计量单位类别*，以关联这两种计量单位。

为此，进入 :menuselection:`配置 --> 计量单位类别`。点击*创建*并命名类别。

.. image:: uom/uom-new-category.png
   :align: center
   :alt: 在Odoo采购应用中创建新的计量单位类别

下一步是创建两个计量单位。为此，点击 :guilabel:`计量单位类别`字段并输入类别名称。然后，在 :guilabel:`计量单位`选项卡下，点击 :guilabel:`添加一行`。

首先，创建用于作为转换其他计量单位的参考点的计量单位。为该单位命名，并选择你刚刚创建的计量单位类别。对于*类型*，选择*此类别的参考计量单位类型*。输入你希望使用的*四舍五入精度*。Odoo计算的数量始终是该值的倍数。

在本例中，由于你无法购买少于1卷的窗帘卷，并且不会使用卷的分数作为计量单位，因此你可以输入1。

.. image:: uom/uom-new-reference-unit.png
   :align: center
   :alt: 在Odoo采购应用中创建新的参考计量单位

.. note:: 如果你使用的*四舍五入精度*小于0.01，可能会出现警告信息，提示其高于*小数精度*，并可能导致不一致性。如果你希望使用小于0.01的四舍五入精度，首先激活 :ref:`开发者模式<developer-mode>`，然后进入 :menuselection:`设置 --> 技术 --> 数据库结构 --> 小数精度`，选择*产品计量单位*并相应地编辑*数字*。例如，如果你想使用0.00001的四舍五入精度，请将*数字*设置为5。

接下来，创建第二个计量单位，命名它，并选择与你的参考单位相同的计量单位类别。对于*类型*，根据你的情况选择*小于*或*大于参考计量单位*。

由于窗帘卷等于100平方米，你应该选择*小于*。

接下来，你需要输入参考单位与第二个单位之间的*比率*。如果第二个单位较小，则*比率*应大于1。如果第二个单位较大，则比率应小于1。

对于你的窗帘卷，比率应设置为100。

现在，你可以像使用Odoo的标准计量单位一样配置你的产品。

.. image:: uom/uom-product-configuration-new-units.png
   :align: center
   :alt: 在Odoo采购应用中使用你自己的计量单位设置产品的计量单位
