=====================================
使用工作中心管理工单
=====================================

Odoo制造模块允许在特定的工作中心进行工单操作。当为产品创建生产订单时，产品物料清单（BoM）中的任何工单都会自动生成并分配到指定的工作中心。可以通过选择 :menuselection:`操作 --> 工单` 在 :guilabel:`制造` 模块中管理工单。

要使用工作中心，必须首先启用 :guilabel:`工单` 功能。为此，进入 :guilabel:`制造` 模块，选择 :menuselection:`配置 --> 设置`，并在 :guilabel:`工单` 旁边的复选框中打勾以激活该功能。然后可以通过选择 :menuselection:`配置 --> 工作中心` 来创建和管理工作中心。

创建工作中心
====================

在 :guilabel:`制造` 模块中，选择 :menuselection:`配置 --> 工作中心 --> 创建`。然后按照以下步骤填写工作中心表单：

- :guilabel:`工作中心名称`：为工作中心提供一个简明的名称，描述其将用于的操作类型
- :guilabel:`替代工作中心`：指定一个替代工作中心，以便在主工作中心不可用时在该中心执行操作
- :guilabel:`代码`：为工作中心分配一个参考代码
- :guilabel:`工作时间`：定义工作中心每周可以使用的小时数
- :guilabel:`公司`：选择工作中心所属的公司

.. image:: using_work_centers/work-center-form.png
   :align: center
   :alt: 一个完全配置的工作中心表单示例。

设置工作中心生产力标准
------------------------------------------

工作中心表单上的 :guilabel:`一般信息` 标签允许为工作中心分配生产力目标：

- :guilabel:`时间效率`：用于计算在工作中心完成工单的预期时间；例如，如果工单通常需要一个小时，而效率设置为200%，工单将需要30分钟
- :guilabel:`容量`：工作中心可以同时执行的操作数量
- :guilabel:`OEE目标`：工作中心的目标效率
- :guilabel:`生产前时间`：在开始工作之前所需的设置时间
- :guilabel:`生产后时间`：完成工作后所需的整理或清理时间
- :guilabel:`每小时成本`：操作工作中心一小时的成本
- :guilabel:`分析账户`：记录工作中心成本的账户

.. image:: using_work_centers/work-center-general-information.png
   :align: center
   :alt: 工作中心表单中的一般信息标签。

分配设备到工作中心
---------------------------------

使用 :guilabel:`设备` 标签，可以为工作中心分配特定设备。每个添加的设备将显示以下信息：

- :guilabel:`设备名称`：设备名称
- :guilabel:`技术员`：负责维护设备的技术员
- :guilabel:`设备类别`：设备所属的类别
- :guilabel:`MTBF`：平均故障间隔时间；设备在出现故障前可以正常运行的平均时间
- :guilabel:`MTTR`：平均恢复时间；设备恢复正常运行所需的平均时间
- :guilabel:`预计下次故障时间`：预计设备下次故障的时间

.. image:: using_work_centers/work-center-equipment.png
   :align: center
   :alt: 工作中心表单的设备标签。

.. note::
    :guilabel:`MTBF`、:guilabel:`MTTR` 和 :guilabel:`预计下次故障时间` 都是基于过去的故障数据自动计算的（如果有的话）。

集成物联网设备
---------------------

:guilabel:`物联网触发器` 标签允许将 :abbr:`IoT (物联网)` 设备与工作中心集成：

- :guilabel:`设备`：指定要触发的物联网设备
- :guilabel:`密钥`：设备的安全密钥
- :guilabel:`操作`：触发的物联网设备操作

.. image:: using_work_centers/work-center-iot.png
   :align: center
   :alt: 工作中心表单的物联网触发器标签。

使用案例：配置替代工作中心
==============================================

当一个工作中心达到容量时，它不能接受任何新的工单。此时，可以指定一个替代工作中心来执行多余的工单，而不是等待主工作中心可用。

首先创建一个新的工作中心。配置 :guilabel:`设备` 标签，使其拥有与主工作中心相同的设备。这样可以确保在两个工作中心执行相同的任务。然后，导航到主工作中心，并在 :guilabel:`替代工作中心` 选择字段中包括新的工作中心。

现在，创建一个使用主工作中心的生产订单。主工作中心会自动在 :guilabel:`工单` 标签中为操作选择。确认生产订单后，点击表单左上角的 :guilabel:`计划` 按钮。

.. image:: using_work_centers/manufacturing-order-plan-button.png
   :align: center
   :alt: 点击计划按钮以自动选择可用的工作中心。

如果主工作中心已满，操作的工作中心将自动更改为替代工作中心。

.. image:: using_work_centers/automatic-work-center-selection.png
   :align: center
   :alt: 自动选择替代工作中心。

监控工作中心的性能
===============================

可以通过选择 :menuselection:`配置 --> 工作中心`，然后点击一个工作中心，来查看单个工作中心的性能。在表单右上角可以查看一系列显示工作中心性能的指标：

- :guilabel:`OEE`：总体有效效率，即工作中心全负荷生产的时间百分比
- :guilabel:`损失时间`：由于工作停止而损失的时间
- :guilabel:`负载`：完成当前工作量所需的时间
- :guilabel:`性能`：实际工作时间的百分比，显示为预期时间的百分比
