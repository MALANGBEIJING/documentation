=============================
管理半成品
=============================

*半成品*，也称为*子装配件*，是一种用于其他产品物料清单（BoM）中的组件的制造产品。半成品用于简化复杂的物料清单（BoMs）或更准确地表示制造流程。包含半成品的物料清单称为*多级物料清单*，其中区分了主要的*顶级产品*及其子装配件。

配置半成品
================================

要设置多级物料清单（BoM），必须配置顶级产品和半成品。因此，第一步是创建半成品及其物料清单（BoMs）。

.. seealso::
   :doc:`../basic_setup/bill_configuration`

.. image:: sub_assemblies/semifinished-product-bom.png
   :align: center
   :alt: 一个半成品的物料清单。

创建顶级物料清单 (BoM)
============================================

在半成品完全配置后，导航到 :menuselection:`制造 --> 产品 --> 产品`。然后，点击 :guilabel:`创建` 来创建顶级产品。根据需求配置产品规格，并确保点击 :guilabel:`保存`。

一旦顶级产品配置完成，点击产品表单上的 :guilabel:`物料清单` 智能按钮，然后点击 :guilabel:`创建` 为顶级产品创建物料清单 (BoM)。接着，只需将半成品添加到此物料清单中，并加入任何其他必要的组件。

.. image:: sub_assemblies/custom-computer-bom.png
   :align: center
   :alt: 包含子装配件组件的顶级产品物料清单。

管理生产计划
==========================

有几种方法可以管理具有多级物料清单 (BoMs) 产品的生产订单自动化。

.. note::
    半成品专门用于管理具有多级物料清单的可制造产品。如果创建 BoM 只是为了组织组件或捆绑销售产品，使用 :doc:`Kits <kit_shipping>` 是更合适的选项。

在确认顶级产品的生产订单后，有两种方法可以自动触发半成品的生产订单：

- **选项1（推荐）：** 为半成品创建*补货规则*，并将最小和最大期望库存数量都设置为 `0`。

.. seealso::
   :doc:`../../purchase/products/reordering`

- **选项2：** 在半成品的产品表单的 :guilabel:`库存` 标签下，激活 :guilabel:`按订单补货 (MTO)` 和 :guilabel:`制造` 路线。

选项1比选项2更灵活，因此推荐使用补货规则。补货规则不会直接将需求与补货链接，因此在必要时允许库存取消保留并重定向到其他订单。按订单补货 (MTO) 路线在半成品和顶级产品之间创建了唯一的链接，专门为已确认的顶级产品生产订单保留数量。

无论选择哪种方法，必须在开始制造顶级产品之前完全制造半成品。

.. image:: sub_assemblies/semifinished-on-mo.png
   :align: center
   :alt: 一个顶级产品的生产订单。
